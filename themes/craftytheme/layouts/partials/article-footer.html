{{/*
  Article Footer Partial
  Shared footer structure for blog posts and book reviews
  
  Usage: {{ partial "article-footer.html" (dict "context" . "type" "blog" "backUrl" "/blog/" "backText" "Back to Blog") }}
  
  Parameters:
  - context: The page context (.)
  - type: Content type for sharing (blog, book, page)
  - backUrl: URL for the back button
  - backText: Text for the back button
*/}}

{{ $context := .context }}
{{ $type := .type }}
{{ $backUrl := .backUrl }}
{{ $backText := .backText }}

<!-- Article Footer -->
<footer class="mt-8 {{ partial "theme-classes.html" (dict "context" $context "type" "card" "variant" "bg") }} rounded-2xl overflow-hidden">
  <!-- Social Sharing -->
  {{ partial "social-sharing.html" (dict "context" $context "type" $type) }}

  <!-- Article Meta & Navigation -->
  <div class="p-6">
    <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
      <div class="text-gray-600 dark:text-gray-300">
        <p class="text-sm flex items-center gap-2">
          <i class="fas fa-calendar"></i>
          Published on {{ $context.Date.Format "January 2, 2006" }}
        </p>
        {{ if $context.Lastmod }}
          <p class="text-sm flex items-center gap-2 mt-1">
            <i class="fas fa-edit"></i>
            Last updated: {{ $context.Lastmod.Format "January 2, 2006" }}
          </p>
        {{ end }}
      </div>
      
      <!-- Navigation buttons -->
      <div class="flex flex-wrap gap-3">
        <a href="{{ $backUrl }}" class="inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors font-medium text-sm">
          <i class="fas fa-arrow-left"></i>
          {{ $backText }}
        </a>
        
        {{ if eq $type "blog" }}
          {{ if $context.NextInSection }}
            <a href="{{ $context.NextInSection.Permalink }}" class="inline-flex items-center gap-2 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors font-medium text-sm">
              Next Article
              <i class="fas fa-arrow-right"></i>
            </a>
          {{ end }}
        {{ else if eq $type "book" }}
          {{ if $context.NextInSection }}
            <a href="{{ $context.NextInSection.Permalink }}" class="inline-flex items-center gap-2 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors font-medium text-sm">
              Next Review
              <i class="fas fa-arrow-right"></i>
            </a>
          {{ end }}
        {{ end }}
      </div>
    </div>
  </div>
</footer>
